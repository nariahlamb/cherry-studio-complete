appId: com.kangfenmao.CherryStudio
productName: Cherry Studio
electronLanguages:
  - zh-CN
  - zh-TW
  - en-US
  - ja
  - ru
beforeBuild: null
npmRebuild: false
asar: true
asarUnpack:
  - "**/node_modules/@opendal/**"
  - "**/node_modules/libsql/**"
  - "**/node_modules/**/*.node"
  - "resources/**"
  - "**/*.{metal,exp,lib}"
directories:
  output: dist
  buildResources: build
files:
  - '**/*'
  - '!**/{.vscode,.yarn,.yarn-lock,.github,.cursorrules,.prettierrc}'
  - '!electron.vite.config.{js,ts,mjs,cjs}}'
  - '!**/{.eslintignore,.eslintrc.js,.eslintrc.json,.eslintcache,root.eslint.config.js,eslint.config.js,.eslintrc.cjs,.prettierignore,.prettierrc.yaml,eslint.config.mjs,dev-app-update.yml,CHANGELOG.md,README.md}'
  - '!**/{.env,.env.*,.npmrc,pnpm-lock.yaml}'
  - '!**/{tsconfig.json,tsconfig.tsbuildinfo,tsconfig.node.json,tsconfig.web.json}'
  - '!**/{.editorconfig,.jekyll-metadata}'
  - '!src'
  - '!scripts'
  - '!local'
  - '!docs'
  - '!packages'
  - '!.swc'
  - '!.bin'
  - '!._*'
  - '!*.log'
  - '!stats.html'
  - '!*.md'
  - '!**/*.{iml,o,hprof,orig,pyc,pyo,rbc,swp,csproj,sln,xproj}'
  - '!**/*.{map,ts,tsx,jsx,less,scss,sass,css.d.ts,d.cts,d.mts,md,markdown,yaml,yml}'
  - '!**/{test,tests,__tests__,powered-test,coverage}/**'
  - '!**/{example,examples}/**'
  - '!**/*.{spec,test}.{js,jsx,ts,tsx}'
  - '!**/*.min.*.map'
  - '!**/*.d.ts'
  - '!**/dist/es6/**'
  - '!**/dist/demo/**'
  - '!**/amd/**'
  - '!**/{.DS_Store,Thumbs.db,thumbs.db,__pycache__}'
  - '!**/{LICENSE,license,LICENSE.*,*.LICENSE.txt,NOTICE.txt,README.md,readme.md,CHANGELOG.md}'
  - '!node_modules/rollup-plugin-visualizer'
  - '!node_modules/js-tiktoken'
  - '!node_modules/@tavily/core/node_modules/js-tiktoken'
  - '!node_modules/pdf-parse/lib/pdf.js/{v1.9.426,v1.10.88,v2.0.550}'
  - '!node_modules/mammoth/{mammoth.browser.js,mammoth.browser.min.js}'
  - '!node_modules/selection-hook/prebuilds/**/*' # we rebuild .node, don't use prebuilds
  - '!**/*.{h,iobj,ipdb,tlog,recipe,vcxproj,vcxproj.filters}' # filter .node build files
  - '!**/node_modules/**/test/**'
  - '!**/node_modules/**/tests/**'
  - '!**/node_modules/**/docs/**'
  - '!**/node_modules/**/examples/**'
  - '!**/node_modules/**/*.md'
  - '!**/node_modules/**/*.txt'
  - '!**/node_modules/**/LICENSE*'
  - '!**/node_modules/**/CHANGELOG*'
  - '!**/node_modules/**/.github/**'
  - '!**/node_modules/**/.vscode/**'
  - '!**/node_modules/**/coverage/**'
  - '!**/node_modules/**/*.map'

# Windowsä¸“ç”¨é…ç½®
win:
  executableName: Cherry Studio
  artifactName: ${productName}-${version}-${arch}-setup.${ext}
  target:
    - target: nsis
    - target: portable
  verifyUpdateCodeSignature: false
nsis:
  artifactName: ${productName}-${version}-${arch}-setup.${ext}
  shortcutName: ${productName}
  uninstallDisplayName: ${productName}
  createDesktopShortcut: always
  allowToChangeInstallationDirectory: true
  oneClick: false
  buildUniversalInstaller: false
portable:
  artifactName: ${productName}-${version}-${arch}-portable.${ext}
  buildUniversalInstaller: false

# å‘å¸ƒé…ç½®
publish:
  provider: generic
  url: https://releases.cherry-ai.com
electronDownload:
  mirror: https://npmmirror.com/mirrors/electron/
releaseInfo:
  releaseNotes: |
    Cherry Studio - Complete Build with opendal Fix (Optimized Size)
    
    ğŸ”§ ä¿®å¤å†…å®¹ï¼š
    - è§£å†³ opendal æ¨¡å—åŠ è½½é—®é¢˜
    - ä¿®å¤ Windows æ„å»ºè„šæœ¬
    - ä¼˜åŒ–åŒ…ä½“ç§¯ï¼ˆé‡æ–°å¯ç”¨ ASAR å‹ç¼©ï¼‰
    - ä¿®å¤ TypeScript ç¼–è¯‘é”™è¯¯
    
    ğŸ“¦ åŒ…ä½“ç§¯ä¼˜åŒ–ï¼š
    - é‡æ–°å¯ç”¨ ASAR å‹ç¼©
    - é€‰æ‹©æ€§è§£åŒ…å¿…è¦çš„åŸç”Ÿæ¨¡å—
    - ç§»é™¤ä¸å¿…è¦çš„å¼€å‘æ–‡ä»¶å’Œæ–‡æ¡£
    - åŒ…ä½“ç§¯ä» 1.89GB ä¼˜åŒ–åˆ°åˆç†å¤§å°
    
    ç•Œé¢ä¼˜åŒ–ï¼šä¼˜åŒ–å¤šå¤„ç•Œé¢æ ·å¼ï¼Œæ°”æ³¡æ ·å¼æ”¹ç‰ˆï¼Œè‡ªåŠ¨è°ƒæ•´ä»£ç é¢„è§ˆè¾¹æ å®½åº¦
    çŸ¥è¯†åº“ï¼šä¿®å¤çŸ¥è¯†åº“å¼•ç”¨ä¸æ˜¾ç¤ºé—®é¢˜ï¼Œä¿®å¤éƒ¨åˆ†åµŒå…¥æ¨¡å‹é€‚é…é—®é¢˜
    å¤‡ä»½ä¸æ¢å¤ï¼šä¿®å¤è¶…è¿‡ 2GB å¤§æ–‡ä»¶æ— æ³•æ¢å¤é—®é¢˜
    æ–‡ä»¶å¤„ç†ï¼šæ·»åŠ  .doc æ–‡ä»¶æ”¯æŒ
    åˆ’è¯åŠ©æ‰‹ï¼šæ”¯æŒè‡ªå®šä¹‰ CSS æ ·å¼
    MCPï¼šåŸºäº Pyodide å®ç° Python MCP æœåŠ¡
    å…¶ä»–é”™è¯¯ä¿®å¤å’Œä¼˜åŒ–